{"version":3,"file":"julia.js","names":["MAX_SAMPLES","MAX_RADIUS","julia","zr","zi","cr","ci","maxRadius","maxSamples","escaped","orbitDistance","orbitPoints","length","tempR","push","iterations"],"sources":["../../src/samplers/julia.js"],"sourcesContent":["const MAX_SAMPLES = 1 << 10;\nconst MAX_RADIUS = 1 << 16;\n\n/**\n * a complex number, c, belongs to The Mandelbrot Set if the iterative application\n * of the function f(z)=z^2+c, starting at z=0, does not result in divergence\n * beyond a specified radius before a specified number of iterations\n *\n * a complex number, z, belongs to The Julia Set if the iterative application\n * of the function f(z)=z^2+c, where c is a constant, does not result in divergence\n * beyond a specified radius before a specified number of iterations\n *\n * @param {Number?} zr the real part of the complex number\n * @param {Number?} zi the imaginary part of the complex number\n * @param {Number?} cr the real part of the complex number\n * @param {Number?} ci the imaginary part of the complex number\n * @param {Number?} maxRadius the maximum distance an orbit point may be\n * @param {Number?} maxSamples the maximum number of samples to take before assuming the orbit does not diverge\n */\nexport function julia(\n  zr = 0,\n  zi = 0,\n  cr = 0,\n  ci = 0,\n  maxRadius = MAX_RADIUS,\n  maxSamples = MAX_SAMPLES\n) {\n  let escaped = false;\n  let orbitDistance = 0;\n  let orbitPoints = [{\n    zr,\n    zi\n  }];\n\n  while (!escaped && orbitPoints.length < maxSamples) {\n    //this is literally just the FOIL method\n    //we subtract the Last terms from the First because `i**2===-1`, and they are\n    //no longer imaginary, then we combine the Inside and Outside because they are\n    let tempR = zr * zr - zi * zi + cr;\n    zi = 2 * zr * zi + ci;\n    zr = tempR;\n\n    orbitDistance = zr * zr + zi * zi; //pythagoras\n    escaped = orbitDistance >= maxRadius;\n\n    orbitPoints.push({\n      zr,\n      zi\n    });\n  }\n\n  let iterations = orbitPoints.length;\n\n  return {\n    escaped,\n    iterations,\n    orbitPoints,\n    orbitDistance\n  };\n}\n"],"mappings":";;;;;;AAAA,IAAMA,WAAW,GAAG,CAAC,IAAI,EAAE;AAC3B,IAAMC,UAAU,GAAG,CAAC,IAAI,EAAE;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,KAAK,GAOnB;EAAA,IANAC,EAAE,uEAAG,CAAC;EAAA,IACNC,EAAE,uEAAG,CAAC;EAAA,IACNC,EAAE,uEAAG,CAAC;EAAA,IACNC,EAAE,uEAAG,CAAC;EAAA,IACNC,SAAS,uEAAGN,UAAU;EAAA,IACtBO,UAAU,uEAAGR,WAAW;EAExB,IAAIS,OAAO,GAAG,KAAK;EACnB,IAAIC,aAAa,GAAG,CAAC;EACrB,IAAIC,WAAW,GAAG,CAAC;IACjBR,EAAE,EAAFA,EAAE;IACFC,EAAE,EAAFA;EACF,CAAC,CAAC;EAEF,OAAO,CAACK,OAAO,IAAIE,WAAW,CAACC,MAAM,GAAGJ,UAAU,EAAE;IAClD;IACA;IACA;IACA,IAAIK,KAAK,GAAGV,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,GAAGC,EAAE;IAClCD,EAAE,GAAG,CAAC,GAAGD,EAAE,GAAGC,EAAE,GAAGE,EAAE;IACrBH,EAAE,GAAGU,KAAK;IAEVH,aAAa,GAAGP,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,CAAC,CAAC;IACnCK,OAAO,GAAGC,aAAa,IAAIH,SAAS;IAEpCI,WAAW,CAACG,IAAI,CAAC;MACfX,EAAE,EAAFA,EAAE;MACFC,EAAE,EAAFA;IACF,CAAC,CAAC;EACJ;EAEA,IAAIW,UAAU,GAAGJ,WAAW,CAACC,MAAM;EAEnC,OAAO;IACLH,OAAO,EAAPA,OAAO;IACPM,UAAU,EAAVA,UAAU;IACVJ,WAAW,EAAXA,WAAW;IACXD,aAAa,EAAbA;EACF,CAAC;AACH"}